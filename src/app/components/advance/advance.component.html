<main>
  <header>
    <div class="header-wrapper">
      <h1 class="title-mec">mecflow</h1>

      <a class="button" routerLink="/home">home</a>
    </div>
  </header>

  <div class="client-wrapper">
    <div class="client-header">
      <h2 class="title">adiantamentos</h2>

      <a class="button" [routerLink]="['cadastrar']">cadastrar</a>
    </div>

    <div class="client-table">
      <table>
        <thead>
          <tr>
            <td>id</td>
            <td>funcionario</td>
            <td>data</td>
            <td>valor</td>
            <td>status</td>
          </tr>
        </thead>

        <tbody *ngIf="advances$; else noContent">
          <tr *ngFor="let ad of advances$ | async;" (click)="detalheAdvance(ad.id)">
            <td>{{ ad.id }}</td>
            <td>{{ ad.employee.people.fName + ' ' + ad.employee.people.lName }}</td>
            <td>{{ ad.dt }}</td>
            <td>{{ ad.amount | currency: 'BRL':'symbol':'1.2-2' }}</td>
            <td>{{ ad.status | uppercase }}</td>
          </tr>
        </tbody>

        <ng-template #noContent>
          <tbody>
            <tr>
              <td colspan="5" style="cursor: default;">Nenhum adiantamento cadastrado!</td>
            </tr>
          </tbody>
        </ng-template>
      </table>
    </div>
  </div>
</main>
